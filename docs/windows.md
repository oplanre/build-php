# Windows build system for PHP

Windows build system in PHP is a separate of
[JScript](https://en.wikipedia.org/wiki/JScript) files and command line scripts.
Some files are manually created unlike with Autoconf. For example, header files.
Similarly to `*.m4` files there are `*.w32` files for each extension and SAPI
module.

## Index

* [1. Directory structure](#1-directory-structure)
* [2. Windows prerequisites](#2-windows-prerequisites)
* [3. See more](#3-see-more)

## 1. Directory structure

Directory structure from the Windows build system perspective looks like this:

```sh
<php-src>/
 └─ ext/
    └─ bcmath/
       ├─ config.w32           # Extension's Windows build system item file
       └─ ...
    └─ iconv/
       ├─ config.w32           # Extension's Windows build system item file
       ├─ php_iconv.def        # Module-definition file for linker when building DLL
       └─ ...
    └─ opcache/
       └─ jit/
          ├─ Makefile.frag.w32 # Makefile fragment for OPcache Jit
          └─ ...
       ├─ config.w32           # Windows build system script item
       └─ ...
    └─ ...
 └─ main/
    ├─ php_version.h           # Generated by release managers using `configure`
    └─ ...
 └─ sapi/
    └─ cli/
       ├─ config.w32           # Windows build system item file for CLI SAPI
       └─ ...
    └─ ...
 └─ win32/                     # Windows build system and adjusted files
    └─ build/                  # Windows build system configuration and scripts
       ├─ Makefile             # Windows build system Makefile template
       └─ ...
    └─ ...
 └─ TSRM/
    ├─ config.w32              # Windows build system script item
    └─ ...
 └─ Zend/
    ├─ zend_config.w32.h       # Windows configuration header for Zend directory
    └─ ...
 ├─ buildconf.bat              # Windows build system configuration builder
 └─ ...
```

## 2. Windows prerequisites

* Windows operating system.
* Visual Studio installed (e.g., Visual Studio 2019 or later).
* Git installed (download from https://git-scm.com/downloads).
* PHP source code downloaded from the PHP website (https://www.php.net/downloads.php).

## 3. See more

* [PHP Wiki: Build PHP on Windows](https://wiki.php.net/internals/windows/stepbystepbuild_sdk_2)
