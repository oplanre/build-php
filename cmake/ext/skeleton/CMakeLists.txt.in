# CMakeLists.txt file for the %EXTNAME% extension.

# Comments in this file start with the string '#'.
# Remove where necessary.

# Include CMake module for using cmake_dependent_option().
include(CMakeDependentOption)

# Boolean variable that enables (ON) or disables (OFF) the extension.
option(EXT_%EXTNAMECAPS% "Enable the %EXTNAME% extension" OFF)

# Option that builds a shared library (SO file on *nix, DLL on Windows).
cmake_dependent_option(
  EXT_%EXTNAMECAPS%_SHARED
  "Build the %EXTNAME% extension as a shared library"
  OFF
  "EXT_%EXTNAMECAPS%;NOT BUILD_SHARED_LIBS"
  OFF
)

# If extension is disabled CMake configuration stops here.
if(NOT EXT_%EXTNAMECAPS%)
  return()
endif()

# Build extension as a SHARED library.
if(EXT_%EXTNAMECAPS%_SHARED)
  set(_type "SHARED")
endif()

# Add a library target to be built from the listed source files.
add_library(php_%EXTNAME% ${_type}
  %EXTNAME%.c
)
